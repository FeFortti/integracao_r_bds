---
title: "BDs Relacionais & Programação Estatística"
date: 'Caio Lente \ \ \ \ \ Fernanda Fortti'
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: xaringan-themer.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

```{r xaringan-themer, include=FALSE}
library(xaringanthemer)
duo(
  primary_color = "#1F4257",
  secondary_color = "#F97B64",
  header_font_google = google_font("Arvo"),
  text_font_google   = google_font("Open Sans", "400", "400i"),
  code_font_google   = google_font("Fira Code")
)
```

class: inverse, center, middle
# Motivação

---
# Hello World

* Somente BDs 
Limitacções dos BDs relacionais **no tocante** de cálculos estatísticos.
Exemplos: moda, percentil, modelagem.
* Somente R
Não é suficiente, pois tem BD em memória local, o que não é viável para grandes
conjuntos de dados e, também não é interessantes quando os dados a serem 
utilizados já estão em um banco de dados.

---
class: inverse, center, middle
# Soluções

---
# Implementação da ferramenta estatística dentro dos SGBDs relacionais

* Limitações:
- Nem todos os tipos de BDs apresentam essa funcionalidade implementada.
- Vendedores dos SGBDs precisam criar e atualizar as funções, pois a 
funcionalidade estará alocada dentro do banco.
- Os SGBDs que apresentam essa alternativa nem sempre são open source.
- Exemplo: SQL server ("run R code"); não é open source.
*- Pesquisar exemplos de BDs que não tem (Postgres?)*

---
# Conexao do software estatístico aos SGBDs relacionais
* MELIOR alternativa!

### QUAL SOFTWARE ESTATÍSTICO UTILIZAR?

* R!
* Por que o R?
- Linguagem estatistica mais amplamente adotada.
- Open source.
- Comunidade ativa.

---
class: inverse, center, middle
# Dbplyr

---
# BD

- BDs suportados (precisam ter backend criado e aberto)

---
# DBI

- Pacote de backend do R
- Fornece uma interface comum que permite ao dplyr trabalhar com muitos bancos de dados diferentes usando o mesmo código; ou seja, é uma interface padronizada entre BD e R. 
- Permite que qualquer pessoa crie um backend desde que respeite o padrao/a 
sintaxe do DBI.
- Envio de SQL <-> Recebimento de dados

---
# Backends no R

- São específicos do BD ao qual se deseja conectar

*Traduz R em SQL <-> Recebe os dados e os transforma em uma estrutura de dados que o R consegue entender (dataframe) e, assim, conseguimos aplicar as funções dos pacotes do R sobre os dados.*
*Estou com dúvida. Colocamos isso no backend, mas acho que seria no dbplyr, não?*

---
# dbplyr

O objetivo do dbplyr é, de forma automática, gerar um código SQL a partir de um código em R que utilize as funções do pacote dplyr. No entanto, SQL é uma linguagem muito grande e dbplyr não faz tudo. Ele se concentra nas instruções SELECT.

---
# dbplyr

- Pacote do R
- Por que o dplyr?
  + Transformacao sintática em bases de dados.
  + Pipelines, o que permite que cada linha delimite uma ação, como se fosse
  uma receita
  de bolo.
  + Operadores infixos, o que permite que se saiba exatamente a ordem das
  operações)
  + Metaprogramacao, o que garante um código mais limpo.
  + Quasí quotations.
- Pacote mais famoso e mais comum por conta das vantagens mencionadas.

---
class: inverse, center, middle
# Obrigado!
